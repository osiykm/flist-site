<div class="row" *ngIf="book">
  <div class="col-lg-5 col-md-8 col-sm-12 col-xs-12">
    <div class="card">
      <div class="card-header">
        {{book.name}}<span class="label"
                           [ngClass]="{'label-success': book.status==='PUBLISHED' || book.status==='COMPLETED',
                            'label-warning': book.status==='UNPUBLISHED'}">{{book.status.toLowerCase()}}</span>
      </div>
      <div class="card-block">
        <div class="card-text">
          <div class="row" *ngIf="author">
            <div class="col-lg-2">Author:</div>
            <div class="col-lg-10"><a class="card-link" href="{{author.url}}"
                                      target="_blank">{{author.name}}</a></div>
          </div>
          <div class="row" *ngIf="categories">
            <div class="col-lg-2">Categories:</div>
            <div class="col-lg-10"><span *ngFor="let category of categories; let isLast=last">{{category.name}}{{isLast ? '' : ', '}}</span>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-2">url:</div>
            <div class="col-lg-10"><a target="_blank" href="{{book.url}}">{{book.url}}</a>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-2">Created:</div>
            <div class="col-lg-10">{{book.created | date}}
            </div>
          </div>

          <div class="row">
            <div class="col-lg-2">Updated:</div>
            <div class="col-lg-10">{{book.updated | date}}
            </div>
          </div>

          <div class="row">
            <div class="col-lg-2">Description:</div>
            <div class="col-lg-10">{{book.description}}</div>
          </div>

          <div class="row">
            <div class="col-xs-2">Commentary:</div>
            <div class="col-xs-10" [innerHTML]="book.commentary"></div>
          </div>
        </div>

      </div>

      <div class="card-footer">
        <button class="btn btn-sm btn-success-outline" *ngIf="book.status.toLowerCase()==='unpublished'" (click)="published()">
          <clr-icon shape="check"></clr-icon>
          published
        </button>
        <app-book-edit [(book)]="book"></app-book-edit>
        <app-book-categories [(book)]="book" [(bookCategories)]="categories"></app-book-categories>
        <button class="btn btn-sm btn-outline-danger" (click)="deleted()">
          <clr-icon shape="trash"></clr-icon>
          Delete
        </button>
      </div>
    </div>
  </div>
</div>
